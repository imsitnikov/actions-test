import { useFlattenListItems } from './useFlattenListItems';
import { useListParsedState } from './useListParsedState';
/**
 * Take array of items as a argument and returns parsed representation of this data structure to work with
 */
export const useList = ({ items, expandedById, getItemId }) => {
    const { itemsById, groupsState, itemsState, initialState } = useListParsedState({
        items,
        getItemId,
    });
    const { visibleFlattenIds, idToFlattenIndex } = useFlattenListItems({
        items,
        /**
         * By default controlled from list items declaration state
         */
        expandedById: expandedById || initialState.expandedById,
        getItemId,
    });
    return {
        items,
        visibleFlattenIds,
        idToFlattenIndex,
        itemsById,
        groupsState,
        itemsState,
        initialState,
    };
};
