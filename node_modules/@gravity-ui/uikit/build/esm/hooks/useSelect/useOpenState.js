import React from 'react';
import { useControlledState } from '../useControlledState/useControlledState';
export const useOpenState = (props) => {
    var _a;
    const [open, setOpenState] = useControlledState(props.open, (_a = props.defaultOpen) !== null && _a !== void 0 ? _a : false, props.onOpenChange);
    const { onClose } = props;
    const toggleOpen = React.useCallback((val) => {
        const newOpen = typeof val === 'boolean' ? val : !open;
        if (newOpen !== open) {
            setOpenState(newOpen);
        }
        if (newOpen === false && onClose) {
            onClose();
        }
    }, [open, setOpenState, onClose]);
    return {
        open,
        toggleOpen,
    };
};
