"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useList = void 0;
const useFlattenListItems_1 = require("./useFlattenListItems");
const useListParsedState_1 = require("./useListParsedState");
/**
 * Take array of items as a argument and returns parsed representation of this data structure to work with
 */
const useList = ({ items, expandedById, getItemId }) => {
    const { itemsById, groupsState, itemsState, initialState } = (0, useListParsedState_1.useListParsedState)({
        items,
        getItemId,
    });
    const { visibleFlattenIds, idToFlattenIndex } = (0, useFlattenListItems_1.useFlattenListItems)({
        items,
        /**
         * By default controlled from list items declaration state
         */
        expandedById: expandedById || initialState.expandedById,
        getItemId,
    });
    return {
        items,
        visibleFlattenIds,
        idToFlattenIndex,
        itemsById,
        groupsState,
        itemsState,
        initialState,
    };
};
exports.useList = useList;
