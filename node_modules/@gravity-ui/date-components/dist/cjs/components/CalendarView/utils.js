"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.calendarLayouts = exports.getWeekDays = exports.getDaysInPeriod = exports.constrainValue = void 0;
const date_utils_1 = require("@gravity-ui/date-utils");
function constrainValue(value, minValue, maxValue) {
    if (minValue && value.isBefore(minValue)) {
        return minValue;
    }
    if (maxValue && maxValue.isBefore(value)) {
        return maxValue;
    }
    return value;
}
exports.constrainValue = constrainValue;
function getDaysInPeriod(startDate, _endDate, mode) {
    const days = [];
    if (mode === 'days') {
        const currentDate = startDate.startOf('week');
        for (let i = 0; i < 42; i++) {
            days.push(currentDate.add({ days: i }));
        }
    }
    else if (mode === 'quarters') {
        for (let i = 0; i < 16; i++) {
            days.push(startDate.add(i, 'quarters'));
        }
    }
    else {
        for (let i = 0; i < 12; i++) {
            days.push(startDate.add({ [mode]: i }));
        }
    }
    return days;
}
exports.getDaysInPeriod = getDaysInPeriod;
function getWeekDays() {
    const weekDays = [];
    const weekStart = (0, date_utils_1.dateTime)().startOf('week');
    for (let i = 0; i < 7; i++) {
        const date = weekStart.add({ days: i });
        weekDays.push(date);
    }
    return weekDays;
}
exports.getWeekDays = getWeekDays;
exports.calendarLayouts = ['days', 'months', 'quarters', 'years'];
