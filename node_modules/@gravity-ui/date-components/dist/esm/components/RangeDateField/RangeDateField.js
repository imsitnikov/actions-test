import { __rest } from "tslib";
import { jsx as _jsx } from "react/jsx-runtime";
import React from 'react';
import { TextInput, useFocusWithin } from '@gravity-ui/uikit';
import { block } from '../../utils/cn';
import { useDateFieldProps } from '../DateField/hooks/useDateFieldProps';
import { useRangeDateFieldState } from './hooks/useRangeDateFieldState';
import './RangeDateField.css';
const b = block('range-date-field');
export function RangeDateField(_a) {
    var { className } = _a, props = __rest(_a, ["className"]);
    const state = useRangeDateFieldState(props);
    const { inputProps } = useDateFieldProps(state, props);
    const [isActive, setActive] = React.useState(false);
    const { focusWithinProps } = useFocusWithin({
        onFocusWithinChange(isFocusWithin) {
            setActive(isFocusWithin);
        },
    });
    return (_jsx("div", Object.assign({ className: b(null, className), style: props.style }, focusWithinProps, { children: _jsx(TextInput, Object.assign({}, inputProps, { value: state.isEmpty && !isActive && props.placeholder ? '' : inputProps.value })) })));
}
